import{e as a,f as c}from"./chunk-3ADLPJCZ.js";var o=class i{static#t;static get instance(){return i.#t||(i.#t=new i),i.#t}get(e){switch(e){case 0:return this.ClientConnection;case 1:return this.TokenConnection}}get ClientConnection(){return a.ClientServer}get TokenConnection(){return a.TokenServer}constructor(){}};var l=class{_encryption;get encryption(){return this._encryption}_fields;get fields(){return this._fields}_submit;get submit(){return this._submit}get FormData(){let e=new FormData;return this._fields.forEach(n=>{let t=n.ToFormDataField();e.append(t.name,t.value)}),e}constructor(e,n,t){this._encryption=e,this._fields=n,this._submit=t}};var m=class{_name;get name(){return this._name}_methodName;get methodName(){return this._methodName}_text;get text(){return this._text}_connection;get connection(){return this._connection}form;Response=c.Get;_loading=!1;get loading(){return this._loading}Submit(e){e?.preventDefault(),console.log(e),this._loading=!0;let n=this.form.submit(this.connection,e).then(t=>{setTimeout(()=>{this.Response=JSON.stringify(t,null,2),this._loading=!1},1400)}).catch(t=>{this.Response=JSON.stringify(t,null,2),this._loading=!1})}constructor(e,n,t,r,s){this._name=e,this._text=t,this._methodName=n,this._connection=o.instance.get(r),this.form=s}};function b(i){let e=i.querySelectorAll("[ng-reflect-name]"),n=new FormData;return e.forEach(t=>{let r=t.getAttribute("ng-reflect-name");if(t.type==="file"){let s=t.files;s&&n.append(r||t.id,s[0])}else n.append(r||t.id,t.value||"")}),n}export{l as a,m as b,b as c};
